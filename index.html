<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Láser Palafrugell</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial;}
body{background:#000;color:#fff;overflow-x:hidden;}
.topbar{background:#00ff41;color:#000;padding:15px;font-weight:bold;text-align:center;position:fixed;top:0;width:100%;z-index:99;font-size:18px;}
.logo{position:absolute;left:15px;top:12px;}
.secret{position:fixed;top:65px;right:12px;width:48px;height:48px;background:#ffcc00;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:28px;box-shadow:0 0 25px #ff0;z-index:999;opacity:0.85;cursor:pointer;}
.secret:hover{opacity:1;transform:scale(1.4) rotate(30deg);}
h1{font-size:44px;color:#ffcc00;text-align:center;margin:90px 20px 15px;}
p{font-size:21px;text-align:center;margin-bottom:50px;opacity:0.9;}
.buttons{display:flex;justify-content:center;gap:40px;flex-wrap:wrap;padding:20px;}
.btn{background:#111;border:4px solid #ffcc00;border-radius:20px;width:160px;height:160px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#ffcc00;font-size:24px;font-weight:bold;cursor:pointer;box-shadow:0 0 30px rgba(255,204,0,0.6);}
.btn img{width:70px;margin-bottom:10px;}
.gallery{padding:80px 10px 20px;display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:14px;}
.gallery img,.gallery video{width:100%;border-radius:14px;border:4px solid #ffcc00;box-shadow:0 0 20px rgba(255,204,0,0.7);cursor:zoom-in;}
.back{position:absolute;left:15px;top:10px;font-size:35px;cursor:pointer;}
.wa{position:fixed;bottom:25px;right:20px;width:65px;height:65px;background:#25d366;color:#fff;border-radius:50%;font-size:40px;display:flex;align-items:center;justify-content:center;box-shadow:0 0 20px #000;z-index:999;}
#admin{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.98);z-index:9999;padding:20px;overflow:auto;text-align:center;}
#admin h2{color:#ffcc00;font-size:28px;margin:20px;}
#admin label{display:block;background:#333;color:#ffcc00;padding:25px;border-radius:15px;margin:20px auto;border:3px dashed #ffcc00;font-size:19px;cursor:pointer;}
#admin input[type=file]{display:none;}
.preview img,.preview video{max-width:100%;margin:15px 0;border:4px solid #ffcc00;border-radius:12px;}
</style>
</head>
<body>

<div class="topbar"><div class="logo">Laser palafrugell</div> Chat</div>
<div class="secret" onclick="document.getElementById('admin').style.display='block'">Key</div>

<div id="home">
  <h1>¡Bienvenidos al mundo del láser y dulces!</h1>
  <p>Nuevos diseños cada día ✨</p>
  <div class="buttons">
    <div class="btn" onclick="show('fotos')"><img src="https://img.icons8.com/color/96/image-gallery.png"><span>Fotos</span></div>
    <div class="btn" onclick="show('videos')"><img src="https://img.icons8.com/color/96/video.png"><span>Videos</span></div>
  </div>
</div>

<div id="fotos" style="display:none;">
  <div class="topbar"><span class="back" onclick="show('home')">Back</span> Nuestras Fotos</div>
  <div class="gallery" id="photoGallery">جاري التحميل...</div>
</div>

<div id="videos" style="display:none;">
  <div class="topbar"><span class="back" onclick="show('home')">Back</span> Nuestros Videos</div>
  <div class="gallery" id="videoGallery">جاري التحميل...</div>
</div>

<div id="admin">
  <h2>رفع صورة أو فيديو جديد</h2>
  <label for="fileInput">اضغطي هنا واختاري الصورة/الفيديو من الجوال</label>
  <input type="file" id="fileInput" accept="image/*,video/*" multiple>
  <div class="preview" id="preview"></div>
  <button onclick="document.getElementById('admin').style.display='none'" style="background:#e91e63;color:#fff;padding:15px;margin-top:20px;border:none;border-radius:15px;width:90%;font-size:18px;">إغلاق</button>
</div>

<a href="https://wa.me/212601234567" class="wa">Chat</a>

<script>
// غيري رقم الواتساب هنا
const WA_NUMBER = "212601234567";

// تحميل الصور والفيديوهات من localStorage
let photos = JSON.parse(localStorage.getItem('laser_photos') || '[]');
let videos = JSON.parse(localStorage.getItem('laser_videos') || '[]');

function render(){
  document.getElementById('photoGallery').innerHTML = photos.map(url=>`<img src="${url}" onclick="this.style.transform='scale(2.8)';setTimeout(()=>this.style='',4000)">`).join('') || 'لا توجد صور بعد';
  document.getElementById('videoGallery').innerHTML = videos.map(url=>`<video controls><source src="${url}"></video>`).join('') || 'لا توجد فيديوهات بعد';
}
render();

function show(x){
  document.querySelectorAll('#home,#fotos,#videos').forEach(e=>e.style.display='none');
  document.getElementById(x).style.display='block';
}

// رفع الصور والفيديوهات تلقائي على freeimage.host
document.getElementById('fileInput').onchange = function(e){
  [...e.target.files].forEach(file => {
    const form = new FormData();
    form.append('file', file);
    fetch('https://freeimage.host/api/1/upload?key=6d207e02198a847aa98d0a2a901485a5', {
      method:'POST', body:form
    })
    .then(r=>r.json())
    .then(j=>{
      const url = j.image.url;
      if(file.type.includes('image')){ photos.unshift(url); localStorage.setItem('laser_photos',JSON.stringify(photos)); }
      else{ videos.unshift(url); localStorage.setItem('laser_videos',JSON.stringify(videos)); }
      document.getElementById('preview').innerHTML += file.type.includes('image')?`<img src="${url}">`:`<video controls><source src="${url}"></video>`;
      render();
    });
  });
};
</script>
</body>
</html>
