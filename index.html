<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الدكور بالليزر والحلويات</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;}
        body{background:#111;color:#fff;font-family:Arial;min-height:100vh;background:linear-gradient(135deg,#1a1a1a,#000);}

        /* الصفحة الخارجية */
        .welcome{height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;
                 background:linear-gradient(rgba(0,0,0,0.85),rgba(0,0,0,0.85)),url('https://images.unsplash.com/photo-1518770660439-24edd4c565f7');
                 background-size:cover;text-align:center;padding:20px;}
        .welcome h1{font-size:2.5rem;color:#d4af37;margin:20px;}
        .welcome p{font-size:1.2rem;margin:20px auto;max-width:90%;}
        .enter-btn{background:#d4af37;color:#000;padding:16px 50px;border-radius:50px;font-size:1.4rem;
                   cursor:pointer;margin-top:40px;font-weight:bold;}

        /* المعرض */
        .gallery{display:none;padding:20px;}
        .top-bar{position:fixed;top:10px;left:15px;z-index:99;background:#d4af37;color:#000;padding:8px 16px;border-radius:50px;font-size:0.9rem;cursor:pointer;}
        .whatsapp{position:fixed;top:10px;right:15px;background:#25D366;color:#fff;width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:28px;z-index:99;}

        .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:20px;margin-top:20px;}
        .item{position:relative;border-radius:15px;overflow:hidden;box-shadow:0 8px 25px rgba(0,0,0,0.6);}
        .item img,.item iframe{width:100%;height:220px;object-fit:cover;}
        .caption{background:rgba(212,175,55,0.95);color:#000;padding:10px 6px;font-size:0.9rem;text-align:center;font-weight:bold;}
        .del{position:absolute;top:8px;left:8px;background:#e74c3c;color:#fff;width:35px;height:35px;border-radius:50%;cursor:pointer;
              display:none;align-items:center;justify-content:center;font-size:20px;}

        /* وضع الأدمن (أنتِ فقط) */
        .admin-mode .del{display:flex !important;}
        .add-box{margin:40px auto;background:#222;padding:25px;border-radius:15px;max-width:500px;display:none;border:2px solid #d4af37;}
        .add-box input,.add-box textarea,.add-box button{width:100%;margin:12px 0;padding:14px;border-radius:10px;font-size:1rem;}
        .add-box input,.add-box textarea{background:#333;border:none;color:#fff;}
        .add-box button{background:#d4af37;color:#000;border:none;font-weight:bold;cursor:pointer;}
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>

    <a href="https://wa.me/212600000000" target="_blank" class="whatsapp"><i class="fab fa-whatsapp"></i></a>
    <div class="top-bar" onclick="toggleLang()">عربي / ES</div>

    <!-- الصفحة الخارجية -->
    <div class="welcome" id="welcome">
        <h1>مرحبا في عالم الدكور بالليزر والحلويات</h1>
        <p>تصاميم حصرية يوميًا للحفلات الصغيرة والمناسبات السعيدة</p>
        <div class="enter-btn" onclick="enterGallery()">دخول المعرض</div>
    </div>

    <!-- المعرض الداخلي -->
    <div class="gallery" id="gallery">
        <h2 style="text-align:center;color:#d4af37;margin:30px;font-size:2rem;">أحدث الأعمال والفيديوهات</h2>

        <!-- لوحة الإضافة (ليك أنتِ فقط) -->
        <div class="add-box" id="addbox">
            <h3 style="color:#d4af37;margin-bottom:15px;">إضافة عمل جديد</h3>
            <input type="file" id="newphoto" accept="image/*">
            <textarea id="newcap" placeholder="تعليق الصورة (اختياري)"></textarea>
            <button onclick="addPhoto()">إضافة صورة</button>

            <input type="text" id="newvideo" placeholder="رابط يوتيوب">
            <textarea id="newcapv" placeholder="تعليق الفيديو (اختياري)"></textarea>
            <button onclick="addVideo()">إضافة فيديو</button>
        </div>

        <div class="grid" id="items"></div>
    </div>

<script>
const ADMIN_KEY = "admin123"; // غيريها بكلمة سر خفية تحفظيها أنتِ فقط

function enterGallery(){
    document.getElementById('welcome').style.display = 'none';
    document.getElementById('gallery').style.display = 'block';
    loadItems();

    // إذا كتبتي الكلمة السرية في شريط العنوان → تفعيل وضع الأدمن
    if(location.hash === '#' + ADMIN_KEY){
        document.body.classList.add('admin-mode');
        document.getElementById('addbox').style.display = 'block';
    }
}

function loadItems(){
    const data = JSON.parse(localStorage.getItem('laserGallery') || '[]');
    const container = document.getElementById('items');
    container.innerHTML = '';
    data.reverse().forEach((item, index) => {
        const realIndex = data.length - 1 - index;
        if(item.type === 'photo'){
            container.innerHTML += `
            <div class="item">
                <img src="${item.url}" onclick="this.requestFullscreen()">
                <div class="caption">${item.caption || ''}</div>
                <div class="del" onclick="remove(${realIndex})">×</div>
            </div>`;
        } else {
            const embed = item.url.includes('youtu.be') ? 'https://www.youtube.com/embed/'+item.url.split('/').pop() : item.url.replace('watch?v=','embed/');
            container.innerHTML += `
            <div class="item">
                <iframe src="${embed}" allowfullscreen></iframe>
                <div class="caption">${item.caption || ''}</div>
                <div class="del" onclick="remove(${realIndex})">×</div>
            </div>`;
        }
    });
}

function addPhoto(){
    const file = document.getElementById('newphoto').files[0];
    if(!file) return alert("اختاري صورة");
    const reader = new FileReader();
    reader.onload = function(e){
        const data = JSON.parse(localStorage.getItem('laserGallery') || '[]');
        data.push({type:'photo', url:e.target.result, caption:document.getElementById('newcap').value.trim()});
        localStorage.setItem('laserGallery', JSON.stringify(data));
        document.getElementById('newphoto').value=''; document.getElementById('newcap').value='';
        loadItems();
    }
    reader.readAsDataURL(file);
}

function addVideo(){
    const link = document.getElementById('newvideo').value.trim();
    if(!link.includes('youtu')) return alert("رابط يوتيوب فقط");
    const data = JSON.parse(localStorage.getItem('laserGallery') || '[]');
    data.push({type:'video', url:link, caption:document.getElementById('newcapv').value.trim()});
    localStorage.setItem('laserGallery', JSON.stringify(data));
    document.getElementById('newvideo').value=''; document.getElementById('newcapv').value='';
    loadItems();
}

function remove(i){
    if(confirm("تحذفيها؟")){
        const data = JSON.parse(localStorage.getItem('laserGallery') || '[]');
        data.splice(i,1);
        localStorage.setItem('laserGallery', JSON.stringify(data));
        loadItems();
    }
}

function toggleLang(){
    const isAr = document.documentElement.lang==="ar";
    document.documentElement.lang = isAr?"es":"ar";
    document.documentElement.dir = isAr?"ltr":"rtl";
}
</script>
</body>
</html>
